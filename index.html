<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Nostalgia Station</title>
    <style>
        /* --- RETRO TV STYLING --- */
        :root {
            --bg-color: #2b2b2b; /* Soft dark gray, less harsh than black */
            --wood-trim: #5d4037; /* Retro wood panel vibe */
            --text-gold: #f0e68c; /* Khaki/Gold for text */
            --text-white: #ffffff;
            --accent-blue: #81d4fa;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            font-family: 'Verdana', sans-serif; /* Clean, readable font */
            height: 100vh;
            display: grid;
            grid-template-rows: 85vh 15vh;
            grid-template-columns: 75% 25%;
            overflow: hidden;
        }

        /* --- ZONE 1: THE TV SCREEN (Top Left) --- */
        #tv-frame {
            grid-column: 1 / 2;
            grid-row: 1 / 2;
            background: black;
            border-right: 8px solid var(--wood-trim);
            border-bottom: 8px solid var(--wood-trim);
            position: relative;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* --- ZONE 2: INFO SIDEBAR (Right) --- */
        #sidebar {
            grid-column: 2 / 3;
            grid-row: 1 / 3; /* Spans full height */
            background-color: #1a1a1a;
            color: var(--text-white);
            display: flex;
            flex-direction: column;
            border-left: 2px solid #444;
        }

        .widget {
            padding: 20px;
            border-bottom: 1px solid #333;
            text-align: center;
        }

        /* Weather & Time */
        #clock {
            font-size: 3vw;
            font-weight: bold;
            color: var(--text-gold);
            margin-bottom: 5px;
        }
        #date {
            font-size: 1.2vw;
            color: #ccc;
            margin-bottom: 20px;
        }
        #weather-icon {
            font-size: 4vw; 
            margin: 10px 0;
        }
        #temp {
            font-size: 2.5vw;
        }

        /* "TV Guide" Listing */
        .tv-guide {
            text-align: left;
            padding: 20px;
        }
        .guide-header {
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent-blue);
            font-size: 1.2vw;
            border-bottom: 2px solid var(--accent-blue);
            margin-bottom: 15px;
            padding-bottom: 5px;
        }
        .show-item {
            margin-bottom: 15px;
            opacity: 0.8;
        }
        .show-time {
            color: var(--text-gold);
            font-weight: bold;
            font-size: 1.1vw;
        }
        .show-title {
            font-size: 1.3vw;
            display: block;
        }

        /* --- ZONE 3: TICKER TAPE (Bottom Left) --- */
        #ticker-tape {
            grid-column: 1 / 2;
            grid-row: 2 / 3;
            background-color: #000;
            color: var(--text-gold);
            display: flex;
            align-items: center;
            overflow: hidden;
            white-space: nowrap;
            border-top: 4px solid var(--wood-trim);
            position: relative;
        }

        .ticker-content {
            display: inline-block;
            padding-left: 100%;
            animation: ticker 45s linear infinite; /* Slow speed for readability */
            font-size: 2vw; /* Large text */
            font-weight: bold;
        }

        @keyframes ticker {
            0% { transform: translate3d(0, 0, 0); }
            100% { transform: translate3d(-100%, 0, 0); }
        }

        /* Interactive overlay prompt */
        #start-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3vw;
            z-index: 100;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <div id="tv-frame">
        <div id="player"></div>
        <div id="start-overlay" onclick="startExperience()">Click to Start the Nostalgia Station</div>
    </div>

    <div id="sidebar">
        <div class="widget">
            <div id="clock">--:--</div>
            <div id="date">Loading...</div>
        </div>

        <div class="widget">
            <div id="weather-icon">‚õÖ</div>
            <div id="temp">--¬∞</div>
            <div id="city">Lakewood, CO</div>
        </div>

        <div class="tv-guide">
            <div class="guide-header">Coming Up Next</div>
            
            <div class="show-item">
                <span class="show-time">NOW PLAYING</span>
                <span class="show-title">Golden Age Classics</span>
            </div>
            
            <div class="show-item">
                <span class="show-time">AFTERNOON</span>
                <span class="show-title">The Andy Griffith Show</span>
            </div>

            <div class="show-item">
                <span class="show-time">DID YOU KNOW?</span>
                <span class="show-title" id="trivia-fact">I Love Lucy was the first show filmed on 35mm film in front of a live audience.</span>
            </div>
        </div>
    </div>

    <div id="ticker-tape">
        <div class="ticker-content" id="ticker-text">
            Loading History...
        </div>
    </div>

    <script>
        /* --- 1. CONFIGURATION --- */
        // Use a Playlist ID (PL...) for continuous play. 
        // This ID is for "50s Commercials & Shows"
        const PLAYLIST_ID = "PLiyIsd32rycMRyAMv_QSbTDWn_H5jZsOX&si=NNeOOZH3aejtH7Sf"; 
        
        // Location for Weather (Lakewood, CO coordinates)
        const LAT = 39.70;
        const LON = -105.08;

        /* --- 2. YOUTUBE API --- */
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                playerVars: {
                    'listType': 'playlist',
                    'list': PLAYLIST_ID,
                    'controls': 1,  // Show controls so they can pause if needed
                    'autoplay': 1,
                    'mute': 1       // Muted initially to allow autoplay policy
                },
            });
        }

        function startExperience() {
            // Unmute and play when user clicks the overlay
            if(player) {
                player.unMute();
                player.playVideo();
            }
            document.getElementById('start-overlay').style.display = 'none';
        }

        /* --- 3. TIME & DATE --- */
        function updateTime() {
            const now = new Date();
            // Time
            document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            // Date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('date').innerText = now.toLocaleDateString(undefined, options);
        }
        setInterval(updateTime, 1000);
        updateTime();

        /* --- 4. WEATHER (Open-Meteo API - No Key Required) --- */
        async function fetchWeather() {
            try {
                const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&current_weather=true&temperature_unit=fahrenheit`);
                const data = await response.json();
                
                const temp = Math.round(data.current_weather.temperature);
                document.getElementById('temp').innerText = `${temp}¬∞F`;
                
                // Simple WMO code mapping
                const code = data.current_weather.weathercode;
                let icon = "‚òÄÔ∏è"; // Default
                if (code > 2) icon = "‚õÖ";
                if (code > 40) icon = "üåßÔ∏è";
                if (code > 70) icon = "‚ùÑÔ∏è";
                
                document.getElementById('weather-icon').innerText = icon;
            } catch (e) {
                console.log("Weather error", e);
            }
        }
        fetchWeather();
        // Update weather every 30 mins
        setInterval(fetchWeather, 1800000);

        /* --- 5. "ON THIS DAY" TICKER --- */
        // Hardcoded gentle facts or fetch from a history API. 
        // For stability, a rotated list of timeless facts is often safer/better for this use case.
        const facts = [
            "Today is a beautiful day to remember...",
            "In 1969, Neil Armstrong walked on the moon.",
            "The Sound of Music was released in 1965.",
            "Gas cost 30 cents a gallon in 1960.",
            "The first color TV was sold in 1954.",
            "Walt Disney World opened in 1971.",
            "Remember to drink some water and stretch today!",
            "Elvis Presley appeared on The Ed Sullivan Show in 1956."
        ];

        function startTicker() {
            // Join facts with a separator
            const text = facts.join("  ‚ú¶  ") + "  ‚ú¶  " + facts.join("  ‚ú¶  ");
            document.getElementById('ticker-text').innerText = text;
        }
        startTicker();

    </script>
</body>
</html>
